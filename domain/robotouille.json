{
    "version": "1.0.0",
    "name": "robotouille",

    "input_json": "domain/input.json",

    "recipe_json": "domain/recipes.json",

    "object_types": ["station", "item", "player", "container", "meal", "customer"],

    "predicate_defs": [
        {
            "name": "istable",
            "param_types": ["station"]
        },
        {
            "name": "iscustomertable",
            "param_types": ["station"]
        },
        {
            "name": "iscustomerspawn",
            "param_types": ["station"]
        },
        {
            "name": "isstove",
            "param_types": ["station"]
        },
        {
            "name": "isboard",
            "param_types": ["station"]
        },
        {
            "name": "isfryer",
            "param_types": ["station"]
        },
        {
            "name": "issink",
            "param_types": ["station"]
        },
        {
            "name": "isrobot",
            "param_types": ["player"]
        },
        {
            "name": "istopbun",
            "param_types": ["item"]
        },
        {
            "name": "isbottombun",
            "param_types": ["item"]
        },
        {
            "name": "isbread",
            "param_types": ["item"]
        },
        {
            "name": "islettuce",
            "param_types": ["item"]
        },
        {
            "name": "isonion",
            "param_types": ["item"]
        },
        {
            "name": "istomato",
            "param_types": ["item"]
        },
        {
            "name": "ispatty",
            "param_types": ["item"]
        },
        {
            "name": "ischicken",
            "param_types": ["item"]
        },
        {
            "name": "ischeese",
            "param_types": ["item"]
        },
        {
            "name": "ispotato",
            "param_types": ["item"]
        },
        {
            "name": "isfryable",
            "param_types": ["item"]
        },
        {
            "name": "isfryableifcut",
            "param_types": ["item"]
        },
        {
            "name": "isfried",
            "param_types": ["item"]
        },
        {
            "name": "iscookable",
            "param_types": ["item"]
        },
        {
            "name": "iscooked",
            "param_types": ["item"]
        },
        {
            "name": "iscuttable",
            "param_types": ["item"]
        },
        {
            "name": "iscut",
            "param_types": ["item"]
        },
        {
            "name": "ispot",
            "param_types": ["container"]
        },
        {
            "name": "isbowl",
            "param_types": ["container"]
        },
        {
            "name": "iswater",
            "param_types": ["meal"]
        },
        {
            "name": "isboiling",
            "param_types": ["meal"]
        },
        {
            "name": "loc",
            "param_types": ["player", "station"]
        },
        {
            "name": "customer_loc",
            "param_types": ["customer", "station"]
        },
        {
            "name": "customer_served",
            "param_types": ["customer"]
        },
        {
            "name": "customer_has_eaten",
            "param_types": ["customer"]
        },
        {
            "name": "table_occupied",
            "param_types": ["station"]
        },
        {
            "name": "customer_in_game",
            "param_types": ["customer"]
        },
        {
            "name": "at_station",
            "param_types": ["item", "station"]
        },
        {
            "name": "at_container",
            "param_types": ["item", "container"]
        },
        {
            "name": "nothing",
            "param_types": ["player"]
        },
        {
            "name": "station_empty",
            "param_types": ["station"]
        },
        {
            "name": "container_empty",
            "param_types": ["container"]
        },
        {
            "name": "container_clear",
            "param_types": ["container"]
        },
        {
            "name": "item_on",
            "param_types": ["item", "station"]
        },
        {
            "name": "vacant",
            "param_types": ["station"]
        },
        {
            "name": "clear",
            "param_types": ["item"]
        },
        {
            "name": "atop",
            "param_types": ["item", "item"]
        },
        {
            "name": "has_item",
            "param_types": ["player", "item"]
        },
        {
            "name": "has_container",
            "param_types": ["player", "container"]
        },
        {
            "name": "in",
            "param_types": ["meal", "container"]
        },
        {
            "name": "addedto",
            "param_types": ["item", "meal"]
        },
        {
            "name": "container_at",
            "param_types": ["container", "station"]
        },
        {
            "name": "atop_container",
            "param_types": ["item", "container"]
        }
    ],

    "player_action_defs": [
        {
            "name": "move",
            "precons": [
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "loc",
                    "params": ["p1", "s2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "pick-up-item",
            "precons": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": false
                },
                {
                    "predicate": "at_station",
                    "params": ["i1", "s1"],
                    "is_true": false
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": false
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "place-item",
            "precons": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "at_station",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": false
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "pick-up-container",
            "precons": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "has_container",
                    "params": ["p1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": false
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": false
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "place-container",
            "precons": [
                {
                    "predicate": "has_container",
                    "params": ["p1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "has_container",
                    "params": ["p1", "c1"],
                    "is_true": false
                },
                {
                    "predicate": "station_empty",
                    "params": ["s1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "cook",
            "precons": [
                {
                    "predicate": "isstove",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "iscookable",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "iscooked",
                    "params": ["i1"],
                    "is_true": false
                }
            ],
            "immediate_fx": [],
            "sfx": [
                {
                    "type": "conditional",
                    "param": "i1",
                    "conditions": [
                        {
                            "predicate": "item_on",
                            "params": ["i1", "s1"],
                            "is_true": true
                        }
                    ],
                    "fx": [],
                    "sfx": [
                        {
                            "type": "delayed",
                            "param": "i1",
                            "fx": [
                                {
                                    "predicate": "iscooked",
                                    "params": ["i1"],
                                    "is_true": true
                                }
                            ],
                            "sfx": []
                        }
                    ]
                }
            ]
        },
        {
            "name": "cut",
            "precons": [
                {
                    "predicate": "isboard",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "iscuttable",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "iscut",
                    "params": ["i1"],
                    "is_true": false
                }
            ],
            "immediate_fx": [],
            "sfx": [
                {
                    "type": "repetitive",
                    "param": "i1",
                    "fx": [
                        {
                            "predicate": "iscut",
                            "params": ["i1"],
                            "is_true": true
                        }
                    ],
                    "sfx": []
                },
                {
                    "type": "conditional",
                    "param": "i1",
                    "conditions": [
                        {
                            "predicate": "isfryableifcut",
                            "params": ["i1"],
                            "is_true": true
                        },
                        {
                            "predicate": "iscut",
                            "params": ["i1"],
                            "is_true": true
                        }
                    ],
                    "fx": [
                        {
                            "predicate": "isfryable",
                            "params": ["i1"],
                            "is_true": true
                        }
                    ],
                    "sfx": []
                }
            ]

        },
        {
            "name": "fry",
            "precons": [
                {
                    "predicate": "isfryer",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "isfryable",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "item_on",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "isfried",
                    "params": ["i1"],
                    "is_true": false
                }
            ],
            "immediate_fx": [],
            "sfx": [
                {
                    "type": "conditional",
                    "param": "i1",
                    "conditions": [
                        {
                            "predicate": "item_on",
                            "params": ["i1", "s1"],
                            "is_true": true
                        }
                    ],
                    "fx": [],
                    "sfx": [
                        {
                            "type": "delayed",
                            "param": "i1",
                            "fx": [
                                {
                                    "predicate": "isfried",
                                    "params": ["i1"],
                                    "is_true": true
                                }
                            ],
                            "sfx": []
                        }
                    ]
                }
            ]
        },
        {
            "name": "fill-pot",
            "precons": [
                {
                    "predicate": "ispot",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "issink",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_empty",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                }
            ],
            "immediate_fx":[],
            "sfx": [
                {
                    "type": "conditional",
                    "param": "c1",
                    "conditions": [
                        {
                            "predicate": "container_at",
                            "params": ["c1", "s1"],
                            "is_true": true
                        }
                    ],
                    "fx": [],
                    "sfx": [
                        {
                            "type": "delayed",
                            "param": "c1",
                            "fx": [],
                            "sfx": [
                                {
                                    "type": "creation",
                                    "param": "c1",
                                    "created_obj": {
                                        "name": "water",
                                        "type": "meal",
                                        "param": "m1"
                                    },
                                    "fx": [
                                        {
                                            "predicate": "iswater",
                                            "params": ["m1"],
                                            "is_true": true
                                        },
                                        {
                                            "predicate": "in",
                                            "params": ["m1", "c1"],
                                            "is_true": true
                                        },
                                        {
                                            "predicate": "container_empty",
                                            "params": ["c1"],
                                            "is_true": false
                                        }
                                    ],
                                    "sfx": []
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "name": "boil-water",
            "precons": [
                {
                    "predicate": "ispot",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "iswater",
                    "params": ["m1"],
                    "is_true": true
                },
                {
                    "predicate": "in",
                    "params": ["m1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "isstove",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "isboiling",
                    "params": ["m1"],
                    "is_true": false
                }
            ],
            "immediate_fx": [],
            "sfx": [
                {
                    "type": "conditional",
                    "param": "m1",
                    "conditions": [
                        {
                            "predicate": "container_at",
                            "params": ["c1", "s1"],
                            "is_true": true
                        }
                    ],
                    "fx": [],
                    "sfx": [
                        {
                            "type": "delayed",
                            "param": "m1",
                            "fx": [
                                {
                                    "predicate": "isboiling",
                                    "params": ["m1"],
                                    "is_true": true
                                }
                            ],
                            "sfx": []
                        }
                    ]
                }
            ]
        },
        {
            "name": "add-to",
            "precons": [
                {
                    "predicate": "ispot",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "addedto",
                    "params": ["i1", "m1"],
                    "is_true": false
                },
                {
                    "predicate": "in",
                    "params": ["m1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "iscut",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "addedto",
                    "params": ["i1", "m1"],
                    "is_true": true
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": false
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "fill-bowl",
            "precons": [
                {
                    "predicate": "isbowl",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "ispot",
                    "params": ["c2"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "in",
                    "params": ["m1", "c2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_empty",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "has_container",
                    "params": ["p1", "c2"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "in",
                    "params": ["m1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "in",
                    "params": ["m1", "c2"],
                    "is_true": false
                },
                {
                    "predicate": "container_empty",
                    "params": ["c1"],
                    "is_true": false
                },
                {
                    "predicate": "container_empty",
                    "params": ["c2"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "stack-onto-station-stack",
            "precons": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                { 
                    "predicate": "at_station",
                    "params": ["i2", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "at_station",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": false
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "unstack-from-station-stack",
            "precons": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "at_station",
                    "params": ["i1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "at_station",
                    "params": ["i2", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": false
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": false
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": false
                },
                {
                    "predicate": "at_station",
                    "params": ["i1", "s1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "place-on-container",
            "precons":[
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "container_clear",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "container_empty",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "atop_container",
                    "params": ["i1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": false
                },
                {
                    "predicate": "container_clear",
                    "params": ["c1"],
                    "is_true": false
                },
                {
                    "predicate": "at_container",
                    "params": ["i1", "c1"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "pickup-from-container",
            "precons": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "atop_container",
                    "params": ["i1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": false
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": false
                },
                {
                    "predicate": "atop_container",
                    "params": ["i1", "c1"],
                    "is_true": false
                },
                {
                    "predicate": "container_clear",
                    "params": ["c1"],
                    "is_true": true
                },
                {
                    "predicate": "at_container",
                    "params": ["i1", "c1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "stack-onto-container-stack",
            "precons": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                { 
                    "predicate": "at_container",
                    "params": ["i2", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "at_container",
                    "params": ["i1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": false
                },
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "unstack-from-container-stack",
            "precons": [
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": true
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": true
                },
                {
                    "predicate": "loc",
                    "params": ["p1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "at_container",
                    "params": ["i1", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "at_container",
                    "params": ["i2", "c1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "has_item",
                    "params": ["p1", "i1"],
                    "is_true": true
                },
                {
                    "predicate": "clear",
                    "params": ["i2"],
                    "is_true": true
                },
                {
                    "predicate": "nothing",
                    "params": ["p1"],
                    "is_true": false
                },
                {
                    "predicate": "atop",
                    "params": ["i1", "i2"],
                    "is_true": false
                },
                {
                    "predicate": "clear",
                    "params": ["i1"],
                    "is_true": false
                },
                {
                    "predicate": "at_container",
                    "params": ["i1", "c1"],
                    "is_true": false
                }
            ],
            "sfx": []
        },
        {
            "name": "wait",
            "precons": [],
            "immediate_fx": [],
            "sfx": []
        },
        {
            "name": "wait",
            "precons": [],
            "immediate_fx": [],
            "sfx": []
        }
    ],

    "npc_action_defs": [
        {
            "name": "customer_enter",
            "precons": [
                {
                    "predicate": "customer_in_game",
                    "params": ["npc1"],
                    "is_true": false
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "customer_in_game",
                    "params": ["npc1"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "customer_move",
            "precons": [
                {
                    "predicate": "table_occupied",
                    "params": ["s2"],
                    "is_true": false
                },
                {
                    "predicate": "iscustomertable",
                    "params": ["s2"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "customer_loc",
                    "params": ["npc1", "s2"],
                    "is_true": true
                },
                {
                    "predicate": "table_occupied",
                    "params": ["s2"],
                    "is_true": true
                }
            ],
            "sfx": []
        },
        {
            "name": "customer_eat",
            "precons": [
                {
                    "predicate": "customer_in_game",
                    "params": ["npc1"],
                    "is_true": true
                },
                {
                    "predicate": "iscustomertable",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "customer_loc",
                    "params": ["npc1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "table_occupied",
                    "params": ["s1"],
                    "is_true": true
                },
                {
                    "predicate": "container_at",
                    "params": ["c1", "s1"],
                    "is_true": true
                },
                {
                    "predicate": "customer_has_eaten",
                    "params": ["npc1"],
                    "is_true": false
                }
            ],
            "immediate_fx":[],
            "sfx":[
                {
                    "type": "repetitive",
                    "param": "c1",
                    "fx": [
                        {
                            "predicate": "container_empty",
                            "params": ["c1"],
                            "is_true": true
                        }
                    ],
                    "sfx": [
                        {
                            "type": "parametrized_deletion",
                            "param": "c1",
                            "predicate": "at_container",
                            "fx": [
                                {
                                    "predicate": "customer_has_eaten",
                                    "params": ["npc1"],
                                    "is_true": true
                                },
                                {
                                    "predicate": "container_clear",
                                    "params": ["c1"],
                                    "is_true": true
                                }
                            ],
                            "sfx": []
                        }
                    ]
                }
            ]
        },
        {
            "name": "customer_leave",
            "precons": [
                {
                    "predicate": "customer_in_game",
                    "params": ["npc1"],
                    "is_true": true
                },
                {
                    "predicate": "iscustomerspawn",
                    "params": ["s2"],
                    "is_true": true
                },
                {
                    "predicate": "customer_loc",
                    "params": ["npc1", "s1"],
                    "is_true": true
                }
            ],
            "immediate_fx": [
                {
                    "predicate": "customer_loc",
                    "params": ["npc1", "s1"],
                    "is_true": false
                },
                {
                    "predicate": "customer_loc",
                    "params": ["npc1", "s2"],
                    "is_true": true
                },
                {
                    "predicate": "customer_in_game",
                    "params": ["npc1"],
                    "is_true": false
                },
                {
                    "predicate": "table_occupied",
                    "params": ["s1"],
                    "is_true": false
                },
                {
                    "predicate": "customer_served",
                    "params": ["npc1"],
                    "is_true": true
                }
            ],
            "sfx": []
        }
    ]
}